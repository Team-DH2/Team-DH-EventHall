generator client {
  provider = "prisma-client"
  output   = "../app/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model booking {
  id           Int           @id @default(autoincrement())
  userid       Int
  hallid       Int?
  performersid Int?
  hostid       Int?
  ordereddate  DateTime?     @db.Date
  date         DateTime      @db.Timestamp(6)
  starttime    String?
  endtime      String?
  status       bookingstatus
  event_halls  event_halls?  @relation(fields: [hallid], references: [id], onDelete: NoAction, onUpdate: NoAction)
  hosts        hosts?        @relation(fields: [hostid], references: [id], onDelete: NoAction, onUpdate: NoAction)
  performers   performers?   @relation(fields: [performersid], references: [id], onDelete: NoAction, onUpdate: NoAction)
  User         mruser        @relation(fields: [userid], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model event_halls {
  id                      Int       @id @default(autoincrement())
  name                    String    @db.VarChar(255)
  location                String?   @db.VarChar(255)
  capacity                String?
  description             String?
  suitable_events         String[]
  created_at              DateTime? @default(now()) @db.Timestamp(6)
  images                  String[]
  phonenumber             String?
  menu                    String[]
  parking_capacity        Int?
  additional_informations String[]
  informations_about_hall String[]
  advantages              String[]
  booking                 booking[]
}

model hosts {
  id            Int       @id @default(autoincrement())
  name          String    @db.VarChar(255)
  contact_email String?   @db.VarChar(255)
  contact_phone String?   @db.VarChar(50)
  booking       booking[]
}

model performers {
  id               Int       @id @default(autoincrement())
  name             String    @db.VarChar(255)
  bio              String?
  genre            String?   @db.VarChar(255)
  contact_email    String?   @db.VarChar(255)
  contact_phone    String?   @db.VarChar(50)
  performance_type String?   @db.VarChar(100)
  created_at       DateTime? @default(now()) @db.Timestamp(6)
  availability     String?   @db.VarChar(50)
  image            String?
  price            Decimal   @default(500000) @db.Decimal(12, 0)
  popularity       Int?
  booking          booking[]
}

model mruser {
  id         Int       @id(map: "User_pkey") @default(autoincrement())
  name       String    @db.VarChar(255)
  email      String    @unique(map: "User_email_key") @db.VarChar(255)
  password   String    @db.VarChar(255)
  role       String    @db.VarChar(50)
  createdat  DateTime? @default(now()) @db.Timestamp(6)
  updatedate DateTime? @db.Timestamptz(6)
  phone      String?   @db.VarChar(20)
  booking    booking[]
}

enum bookingstatus {
  pending
  approved
}
